Trainer(resume_from_checkpoint="path")


- When do we restore what?
- How do we let users customize what to restore?


Which objects can have state in Lightning?
- Trainer
- LightningModule
- Callbacks
- Plugins? Loggers?


Current sequence:

fit:
- prepare_data(model)
- attach_model_callbacks(model)
- on_before_accelerator_backend_setup(model)
- accelerator.connect(model)
- accelerator.setup_environment()
- call_setup_hook(model)
- call_configure_sharded_model(model)
- accelerator.setup(model)  <-- optimizer setup and assigned

- run_train()
    - pre_training_routine()
        - restore_weights()

            # the magic
            - training_type_plugin.restore_model_state_from_ckpt_path(checkpoint_path)  -> calls model.on_load_checkpoint()
            - model.cuda()
            - restore_training_state(checkpoint)
                - amp state
                - Callback.on_load_checkpoint(checkpoint)
                - global_step, epoch
                - optimizer state restore
                - lr_scheduler restore
           